#pragma once

bool set_base_layer(uint16_t keycode, keyrecord_t *record);
void set_rgblight_layer(layer_state_t state);

#define LAYOUT_wrapper(...) LAYOUT(__VA_ARGS__)

enum layers {
  _QWERTY = 0,
  _COLEMAK,
  _LWR,
  _RAISE,
  _ADJUST,
  _NUM,
  _MOUSE
};

enum custom_keycodes {
  QWERTY = SAFE_RANGE,
  CMK_DHM
};

#define TO_QWER TO(_QWERTY)
#define TO_COLM TO(_COLEMAK)

#define U_REDO  LCMD(KC_Z)
#define U_PASTE LCMD(KC_V)
#define U_COPY  LCMD(KC_C)
#define U_CUT   LCMD(KC_X)
#define U_UNDO  LCMD(KC_Z)

#define CTL_BSP  LCTL_T(KC_BSPC)
#define CMDLBRC  LCMD(KC_LBRC)
#define CMDRBRC  LCMD(KC_RBRC)
#define CMDLCBR  LCMD(KC_LCBR)
#define CMDRCBR  LCMD(KC_RCBR)

// == Home-row Mod helpers =====================================================
//  .-----------------------.    .-----------------------.
//  | Alt | Ctl | Cmd | Sft |    | Sft | Cmd | Ctl | Alt |
//  '-----------------------'    '-----------------------'
#define ______________MOD_L2_L____________  KC_LOPT, KC_LCTL, KC_LCMD, KC_LSFT
#define ______________MOD_L2_R____________  KC_RSFT, KC_RCMD, KC_RCTL, KC_ROPT

#define FI5(kc) LALT_T(kc)
#define FI4(kc) LCTL_T(kc)
#define FI3(kc) LCMD_T(kc)
#define FI2(kc) LSFT_T(kc)

// ,-----+-----+-----+-----+-----,   ,-----+-----+-----+-----+-----,
// | F1  | F2  | F3  | F4  | F5  |   | F6  | F7  | F8  | F9  | F10 |
// ,-----+-----+-----+-----+-----,   ,-----+-----+-----+-----+-----,
#define ________________FUNCTION_L_________________  KC_F1, KC_F2, KC_F3, KC_F4, KC_F5
#define ________________FUNCTION_R_________________  KC_F6, KC_F7, KC_F8, KC_F9, KC_F10


// .-----+-----+-----+-----+-----.   .-----+-----+-----+-----+-----.
// |  1  |  2  |  3  |  4  |  5  |   |  6  |  7  |  8  |  9  |  0  |
// '-----------------------------'   '-----------------------------'
#define ________________NUMBERS_L__________________  KC_1, KC_2, KC_3, KC_4, KC_5
#define ________________NUMBERS_R__________________  KC_6, KC_7, KC_8, KC_9, KC_0

// ,-----------------------------.   .-----------------------------.
// |  !  |  @  |  #  |  $  |  %  |   |  ^  |  &  |  *  |  (  |  )  |
#define ________________SYMBOLS_L__________________  KC_EXLM, KC_AT  , KC_HASH, KC_DLR,  KC_PERC
#define ________________SYMBOLS_R__________________  KC_CIRC, KC_AMPR, KC_ASTR, KC_LPRN, KC_RPRN

// -- Thumb keys ---------------------------------------------------------------
//                   .-----------------.   .-----------------.
//                   | Cmd | NAV | NUM |   | MOU | RSA | Alt |
//                   | Esc | Bsp | Tab |   | Ent | Spc |     |
//                   '-----------------'   '-----------------'
#define _________THUMB_L_________ LGUI_T(KC_ESC)  , LT(_LWR, KC_BSPC)  , LT(_NUM, KC_TAB)
#define _________THUMB_R_________ LT(_MOUSE, KC_ENT), LT(_RAISE, KC_SPC), KC_RALT


/*=============================================================================
 *   _                             _
 *  | |                           | |
 *  | |     __ _ _   _  ___  _   _| |_ ___
 *  | |    / _` | | | |/ _ \| | | | __/ __|
 *  | |___| (_| | |_| | (_) | |_| | |_\__ \
 *  \_____/\__,_|\__, |\___/ \__,_|\__|___/
 *                __/ |
 *               |___/
 *=============================================================================
 *-- QWERTY -------------------------------------------------------------------
 *.-----------------------------------.   .-----------------------------------.
 *| Tab |  Q  |  W  |  E  |  R  |  T  |   |  Y  |  U  |  I  |  O  |  P  |  \  |
 *|-----------------------x-----x-----|   |-----x-----x-----------------------|
 *|CtlBs|  A  |  S  |  D  |  F  |  G  |   |  H  |  J  |  K  |  L  |  ;  |  '  |
 *|-----------------------x-----x-----|   |-----x-----x-----------------------|
 *| Sft |  Z  |  X  |  C  |  V  |  B  |   |  N  |  M  |  ,  |  .  |  /  |  -  |
 *'-----------------------------------'   '-----------------------------------'
 *                  .-----------------.   .-----------------.
 *                  |     THUMB_L     |   |     THUMB_R     |
 *                  '-----------------'   '-----------------'
 */
#define _____________________QWERTY_L1______________________  KC_TAB  , KC_Q      , KC_W      , KC_E      , KC_R         , KC_T
#define _____________________QWERTY_L2______________________  CTL_BSP , FI5(KC_A) , FI4(KC_S) , FI3(KC_D) , FI2(KC_F)    , KC_G
#define _____________________QWERTY_L3______________________  KC_LSFT , KC_Z      , KC_X      , KC_C      , KC_V         , KC_B
#define _____________________QWERTY_R1______________________  KC_Y    , KC_U      , KC_I      , KC_O      , KC_P         , KC_BSLASH
#define _____________________QWERTY_R2______________________  KC_H    , FI2(KC_J) , FI3(KC_K) , FI4(KC_L) , FI5(KC_SCLN) , KC_QUOT
#define _____________________QWERTY_R3______________________  KC_N    , KC_M      , KC_COMM   , KC_DOT    , KC_SLSH      , KC_MINS


// -- COLEMAK-DH ---------------------------------------------------------------
// http://colemakmods.github.io/mod-dh/keyboards.html#matrix-keyboards
// .-----------------------------------.   .-----------------------------------.
// | Tab |  Q  |  W  |  F  |  P  |  B  |   |  J  |  L  |  U  |  Y  |  ;  |  \  |
// |-----------------------x-----x-----|   |-----x-----x-----------------------|
// |CtlBs|  A  |  R  |  S  |  T  |  G  |   |  M  |  N  |  E  |  I  |  O  |  '  |
// |-----------------------x-----x-----|   |-----x-----x-----------------------|
// | Sft |  Z  |  X  |  C  |  D  |  V  |   |  K  |  H  |  ,  |  .  |  /  |  -  |
// '-----------------------------------'   '-----------------------------------'
//                   .-----------------.   .-----------------.
//                   |     THUMB_L     |   |     THUMB_R     |
//                   '-----------------'   '-----------------'
#define _____________________COLMAK_L1______________________  KC_TAB  , KC_Q      , KC_W      , KC_F      , KC_P      , KC_B
#define _____________________COLMAK_L2______________________  CTL_BSP , FI5(KC_A) , FI4(KC_R) , FI3(KC_S) , FI2(KC_T) , KC_G
#define _____________________COLMAK_L3______________________  KC_LSFT , KC_Z      , KC_X      , KC_C      , KC_D      , KC_V
#define _____________________COLMAK_R1______________________  KC_J    , KC_L      , KC_U      , KC_Y      , KC_SCLN   , KC_BSLASH
#define _____________________COLMAK_R2______________________  KC_M    , FI2(KC_N) , FI3(KC_E) , FI4(KC_I) , FI5(KC_O) , KC_QUOT
#define _____________________COLMAK_R3______________________  KC_K    , KC_H      , KC_COMM   , KC_DOT    , KC_SLSH   , KC_MINS


// -- _LWR ---------------------------------------------------------------------
// .-----------------------------------.   .-----------------------------------.
// |     |     |     |     |     |     |   |     | PRV | PLY | NXT | VUP |     |
// |-----x-----x-----------------------|   |-----x-----x-----------------------|
// | Del | Cmd | Ctl | Alt | Sft |     |   |  <  |  v  |  ^  |  >  | VDN |     |
// |-----x-----x-----------------------|   |-----x-----x-----------------------|
// |     |     | TPr | Bck | Fwd | TNe |   | HOM | PDN | PUP | END | MUT |     |
// '-----------------------------------'   '-----------------------------------'
//                   .-----------------.   .-----------------.
//                   |     |  X  |     |   |     |     | Del |
//                   '-----------------'   '-----------------'
#define ________________________LWR_L1______________________ XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX
#define ________________________LWR_L2______________________ XXXXXXX, ______________MOD_L2_L____________, XXXXXXX
#define ________________________LWR_L3______________________ XXXXXXX, XXXXXXX, CMDLCBR, CMDLBRC, CMDRBRC, CMDRCBR
#define                            _________LWR_L4__________                            _______, _______, _______
#define ________________________LWR_R1______________________ XXXXXXX, KC_MNXT, KC_MPLY, KC_MPRV, KC_VOLU, XXXXXXX
#define ________________________LWR_R2______________________ KC_LEFT, KC_DOWN, KC_UP  , KC_RGHT, KC_VOLD, XXXXXXX
#define ________________________LWR_R3______________________ KC_HOME, KC_PGDN, KC_PGUP, KC_END , KC_MUTE, XXXXXXX
#define _________LWR_R4__________                            _______, _______, KC_DEL


// -- _RAISE -------------------------------------------------------------------
// Based on https://getreuer.info/posts/keyboards/symbol-layer/index.html
// .-----------------------------------.   .-----------------------------------.
// |     |  '  |  <  |  >  |  "  |  .  |   |  &  | ::  |  (  |  )  |  %  |     |
// |-----------------------x-----x-----|   |-----x-----x-----x-----------------|
// |     |  !  |  -  |  +  |  =  |  #  |   |  |  |  :  |  [  |  ]  |  ?  |     |
// |-----------------------x-----x-----|   |-----x-----x-----x-----------------|
// |     |  ^  |  /  |  *  |  \  | ../ |   |  ~  |  $  |  {  |  }  |  @  |     |
// '-----------------------------------'   '-----------------------------------'
//                   .-----------------.   .-----------------.
//                   |     |     |     |   |     |  X  |     |
//                   '-----------------'   '-----------------'
//
// A possible new symbol layout
// http://xahlee.info/comp/computer_language_char_distribution.html
// .-----------------------------------.   .-----------------------------------.
// |     |     |     |     |  "  |  '  |   |  &  |  (  |  )  |  %  |  =  |     |
// |-----------------------x-----x-----|   |-----x-----x-----------------------|
// |     |  !  |  @  |  #  |  _  |  #  |   |  |  |  [  |  ]  |  +  |  -  |     |
// |-----------------------x-----x-----|   |-----x-----x-----------------------|
// |     |  ^  |     |     |  \  |  `  |   |  ~  |  {  |  }  |  *  |  /  |     |
// '-----------------------------------'   '-----------------------------------'
//                   .-----------------.   .-----------------.
//                   |     |     |     |   |     |  X  |     |
//                   '-----------------'   '-----------------'
//
// -- _RAISE -------------------------------------------------------------------
// .-----------------------------------.   .-----------------------------------.
// |     |     |     |  {  |  }  |  ~  |   |  |  |  {  |  }  |  -  |  =  |     |
// |-----------------------x-----x-----|   |-----x-----x-----------------------|
// |     |  !  |  @  |  #  |  $  |  %  |   |  ^  |  &  |  *  |  (  |  )  |     |
// |-----------------------x-----x-----|   |-----x-----x-----------------------|
// |     |     |     |  [  |  ]  |  `  |   |  +  |  [  |  ]  |  \  |     |     |
// '-----------------------------------'   '-----------------------------------'
//                   .-----------------.   .-----------------.
//                   |     |     |     |   |     |  X  |     |
//                   '-----------------'   '-----------------'
#define ________________________RAI_L1______________________ XXXXXXX, XXXXXXX, XXXXXXX, KC_LCBR, KC_RCBR, KC_TILD
#define ________________________RAI_L2______________________ XXXXXXX, ________________SYMBOLS_L__________________
#define ________________________RAI_L3______________________ XXXXXXX, XXXXXXX, XXXXXXX, KC_LBRC, KC_RBRC, KC_GRV
#define                            __________RAI_L4_________                            _______, _______, _______
#define ________________________RAI_R1______________________ KC_PIPE, KC_LCBR, KC_RCBR, KC_MINS, KC_EQL , XXXXXXX
#define ________________________RAI_R2______________________ ________________SYMBOLS_R__________________, XXXXXXX
#define ________________________RAI_R3______________________ KC_PLUS, KC_LBRC, KC_RBRC, KC_BSLS, XXXXXXX, XXXXXXX
#define __________RAI_R4_________                            _______, _______, _______


// -- ADJUST -------------------------------------------------------------------
// .-----------------------------------.   .-----------------------------------.
// |     | RST |     |     |     |     |   |     | QWE | COL |     | RST |     |
// |-----------------------x-----x-----|   |-----x-----x-----------------------|
// |     | TOG | SAI | HUI | BRI | MOD |   |     |     |     |     |     |     |
// |-----------------------x-----x-----|   |-----x-----x-----------------------|
// |     |     | SAD | HUD | BRD | RMD |   |     | CAP |     |     |     |     |
// '-----------------------------------'   '-----------------------------------'
//                   .-----------------.   .-----------------.
//                   |     |  X  |     |   |     |  X  |     |
//                   '-----------------'   '-----------------'
#define ________________________ADJ_L1______________________ XXXXXXX, RESET  , XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX
#define ________________________ADJ_L2______________________ XXXXXXX, RGB_TOG, RGB_SAI, RGB_HUI, RGB_VAI, RGB_MOD
#define ________________________ADJ_L3______________________ XXXXXXX, XXXXXXX, RGB_SAD, RGB_HUD, RGB_VAD, RGB_RMOD
#define                            __________ADJ_L4_________                            _______, _______, _______
#define ________________________ADJ_R1______________________ XXXXXXX, QWERTY , CMK_DHM, XXXXXXX, RESET  , XXXXXXX
#define ________________________ADJ_R2______________________ XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX
#define ________________________ADJ_R3______________________ XXXXXXX, KC_CAPS, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX
#define __________ADJ_R4_________                            _______, _______, _______


// -- _MOU ---------------------------------------------------------------------
// .-----------------------------------.   .-----------------------------------.
// |     | RST |     |  ^  |     |     |   |     |     |     |     | RST |     |
// |-----x-----x-----------------------|   |-----x-----x-----------------------|
// |     |     |  <  |  v  |  >  |     |   | <<< | vvv | ^^^ | >>> |     |     |
// |-----x-----x-----------------------|   |-----x-----x-----------------------|
// |     |     |     |     |     |     |   |     |     |     |     |     |     |
// '-----------------------------------'   '-----------------------------------'
//                   .-----------------.   .-----------------.
//                   | MB2 | MB1 | MB3 |   |  X  |     |     |
//                   '-----------------'   '-----------------'
#define ________________________MOU_L1______________________ XXXXXXX, RESET  , XXXXXXX, KC_MS_U, XXXXXXX, XXXXXXX
#define ________________________MOU_L2______________________ XXXXXXX, XXXXXXX, KC_MS_L, KC_MS_D, KC_MS_R, XXXXXXX
#define ________________________MOU_L3______________________ XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX
#define                            _________MOU_L4__________                            KC_BTN3, KC_BTN1, KC_BTN2
#define ________________________MOU_R1______________________ XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, RESET  , XXXXXXX
#define ________________________MOU_R2______________________ KC_WH_L, KC_WH_U, KC_WH_D, KC_WH_R, XXXXXXX, XXXXXXX
#define ________________________MOU_R3______________________ XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX
#define _________MOU_R4__________                            _______, _______, _______


// -- _NUM ---------------------------------------------------------------------
// .-----------------------------------.   .-----------------------------------.
// | RST |     |     |     |     |     |   |  +  |  7  |  8  |  9  |  -  |  =  |
// |-----x-----x-----------------------|   |-----x-----x-----------------------|
// |     | Cmd | Ctl | Alt | Sft |     |   |  .  |  4  |  5  |  6  |  ,  |     |
// |-----x-----x-----------------------|   |-----x-----x-----------------------|
// |     |     |     |     |     |     |   |  *  |  1  |  2  |  3  |  /  |     |
// '-----------------------------------'   '-----------------------------------'
//                   .-----------------.   .-----------------.
//                   |     |     |  X  |   | Ent |  0  |  .  |
//                   '-----------------'   '-----------------'
#define ________________________NUM_L1______________________ RESET  , XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX
#define ________________________NUM_L2______________________ XXXXXXX, ______________MOD_L2_L____________, XXXXXXX
#define ________________________NUM_L3______________________ XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX, XXXXXXX
#define                            _________NUM_L4__________                            _______, _______, _______
#define ________________________NUM_R1______________________ KC_PLUS, KC_7   , KC_8   , KC_9   , KC_MINS, KC_EQL
#define ________________________NUM_R2______________________ KC_DOT , KC_4   , KC_5   , KC_6   , KC_COMM, XXXXXXX
#define ________________________NUM_R3______________________ KC_ASTR, KC_1   , KC_2   , KC_3   , KC_SLSH, XXXXXXX
#define _________NUM_R4__________                            KC_ENT , KC_0   , KC_DOT


// -- _NEW ---------------------------------------------------------------------
// .-----------------------------------.   .-----------------------------------.
// |     |     |     |     |     |     |   |     |     |     |     |     |     |
// |-----------------------x-----x-----|   |-----x-----x-----------------------|
// |     |     |     |     |     |     |   |     |     |     |     |     |     |
// |-----------------------x-----x-----|   |-----x-----x-----------------------|
// |     |     |     |     |     |     |   |     |     |     |     |     |     |
// '-----------------------------------'   '-----------------------------------'
//                   .-----------------.   .-----------------.
//                   |     |     |     |   |     |     |     |
//                   '-----------------'   '-----------------'
// #define ________________________NEW_L1______________________ _______, _______, _______, _______, _______, _______
// #define ________________________NEW_L2______________________ _______, _______, _______, _______, _______, _______
// #define ________________________NEW_L3______________________ _______, _______, _______, _______, _______, _______
// #define                            __________NEW_L4_________                            _______, _______, _______
// #define ________________________NEW_R1______________________ _______, _______, _______, _______, _______, _______
// #define ________________________NEW_R2______________________ _______, _______, _______, _______, _______, _______
// #define ________________________NEW_R3______________________ _______, _______, _______, _______, _______, _______
// #define __________NEW_R4_________                            _______, _______, _______
